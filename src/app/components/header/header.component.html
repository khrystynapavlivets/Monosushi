<header>
    <nav class="navbar navbar-expand-lg navbar-light bar m-0 p-0">
        <div class="container-fluid m-0 p-0">
            <a class="navbar-brand la-brand " routerLink="/" aria-current="page">
                <img src="https://monosushi.com.ua/wp-content/uploads/2021/06/logo.svg" alt="">
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto  mb-lg-0 d-flex flex-row justify-content-evenly align-content-center">
                    <li class="  nav-item mx-3 py-2">
                        <a routerLink="/discount" routerLinkActive="route-active"
                            class=" nav-link d-flex flex-column align-items-center ">
                            <img class="img-fluid"
                                src="https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-gift.svg" alt="">
                            <span class="text-dark fw-bolder ">Акції</span></a>
                    </li>
                    <li class="  nav-item mx-3 py-2">
                        <a routerLink="/product/rolls" routerLinkActive="route-active"
                            class="nav-link d-flex flex-column align-items-center">
                            <img class="img-fluid"
                                src="https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-rolls.svg" alt="">
                            <span class="text-dark fw-bolder">Роли</span></a>
                    </li>
                    <li class="nav-item mx-3 py-2">
                        <a routerLink="/product/setu" routerLinkActive="route-active"
                            class="nav-link d-flex flex-column align-items-center">
                            <img class="img-fluid"
                                src="https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-sets.svg" alt="">
                            <span class="text-dark fw-bolder">Сети</span></a>
                    </li>
                    <li class="nav-item mx-3 py-2">
                        <a routerLink="/product/drinks" routerLinkActive="route-active"
                            class="nav-link d-flex flex-column align-items-center">
                            <img class="img-fluid"
                                src="https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-drinks.svg" alt="">
                            <span class="text-dark fw-bolder">Напої</span></a>
                    </li>
                    <li class="nav-item mx-3 py-2">
                        <a routerLink="/product/sauces" routerLinkActive="route-active"
                            class="nav-link d-flex flex-column align-items-center">
                            <img class="img-fluid" src="https://monosushi.com.ua/wp-content/uploads/2021/09/icon.svg"
                                alt="">
                            <span class="text-dark fw-bolder">Соуси</span></a>
                    </li>
                    <li class="nav-item dropdown mx-4 my-1 py-2">
                        <a class="nav-link bi bi-list d-flex  align-items-center " id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor"
                                class="bi bi-list text-dark fw-bolder" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
                            </svg>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li>
                                <a routerLink="/delivery" routerLinkActive="route-active"
                                    class="dropdown-item text-dark fw-bolder ">Доставка та оплата</a>
                            </li>

                            <li>
                                <a routerLink="/about" routerLinkActive="route-active"
                                    class="dropdown-item text-dark fw-bolder ">Про нас</a>
                            </li>
                            <li>
                                <a routerLink="/discount" routerLinkActive="route-active"
                                    class="dropdown-item text-dark fw-bolder">Акції</a>
                            </li>

                        </ul>
                    </li>

                    <li class="nav-item">
                        <button class="btn btn-phone  my-3 px-1 mx-4 py-1">
                            <img class="img-fluid " src="https://monosushi.com.ua/wp-content/uploads/2020/10/phone.svg"
                                alt="">
                        </button>
                    </li>
                    <li class="nav-item my-0 mx-5 py-4 ">
                        <div class=" header-phone  ">
                            <b>(097) 87 80 807</b>
                            <p>Працюємо з <b>11:00</b> до <b>22:30</b></p>
                        </div>
                    </li>

                    <li class="nav-item  my-3 mx-5 p-1 px-2">
                        <a routerLink="/admin" routerLinkActive="route-active" class="nav-link text-dark fw-medium "
                            aria-current="page">

                            <img src="https://monosushi.com.ua/wp-content/themes/monosushi/img/user.svg" alt="">
                        </a>
                    </li>

                    <li class="nav-item">
                        <button class="checkout" (click)="openModal()">
                            <a class="nav-link basket d-flex  align-items-center justify-content-between"
                                aria-current="page">
                                <img src="https://monosushi.com.ua/wp-content/themes/monosushi/img/basket.svg"
                                    class="checkout__basket" alt="">
                                <span class=" checkout__count">{{count }}</span>
                                <span class="checkout__price fs-6"><b>{{total}}</b></span><span
                                    class="checkout__name fs-6"> грн</span>
                            </a>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

@if (!isOpenBasket) {
<div class="overlay" (click)="closePopup()">
    <div class="popup">
        <div class="basket-modal-wraper">
            <div class="cart-popup-out">
                <div class="cart-items">
                    @if (basket.length === 0) {
                    <div class="cart-empty-message ">
                        <div class="cart-empty-img my-2 text-center">
                            <img src="https://monosushi.com.ua/wp-content/themes/monosushi/img/icons/cart-empty-img.svg"
                                alt="">
                        </div>
                        <div class="title h5 text-center "><b>Кошик порожній</b></div>
                       <div class="text-center"><a class="btn  "><b>Перейти до каталогу</b></a></div>
                    </div>
                    }
                    @if (basket.length > 0) {
                    @for ( products of basket ; track $index) {
                    <div
                        class="prod_horiz cart-product js-product  d-flex flex-row justify-content-between align-content-center  p-2">
                        <div>
                            <a class="prod_horiz-img ">
                                <img class="img" [routerLink]="['/product/' + products.category.path, products.id ]"
                                    [src]="products.imagePath">
                            </a>
                        </div>

                        <div class=" title-basket mt-4">
                            <a class="title ">
                                <b>{{products.name}}</b> </a>
                        </div>

                        <div class="border btn-group rounded mt-3"
                            style="display: flex; align-items: center; justify-content: center;">
                            <button type="button" class="border-0 ">-</button>
                            <input class=" text-center border-0" type="text" [value]="products.count"
                                style="width: 40px;">
                            <button type="button" class="border-0">+</button>
                        </div>



                        <div class="price_default  mt-4">
                            <b class="price">{{products.price*products.count}}</b>
                            грн
                        </div>

                        <button type="button" class="btn-close remove-product my-3 me-3">
                            <div class="trash"></div>
                        </button>

                    </div>




                    }
                    }

                    <div class="cart_bottom bg-mono d-flex justify-content-between m-3 mx-4">
                        <div class="cart_price-wrap fs-5">
                            Сума: <b id="card-total-price" class="card-total-price">{{total}}</b> грн
                        </div>
                        <a routerLink="/checkout" routerLinkActive="route-active" class="btn" id="cart-submit">ОФОРМИТИ
                            ЗАМОВЛЕННЯ</a>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
}